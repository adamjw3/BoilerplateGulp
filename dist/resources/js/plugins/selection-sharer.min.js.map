{"version":3,"sources":["../../../../src/resources/js/plugins/selection-sharer.js"],"names":["$","SelectionSharer","options","self","this","elements","sel","textSelection","htmlSelection","appId","attr","url2share","window","location","href","getSelectionText","html","text","getSelection","rangeCount","container","document","createElement","i","len","appendChild","getRangeAt","cloneContents","textContent","innerHTML","selectionDirection","selection","range","createRange","anchorNode","setStart","anchorOffset","setEnd","focusNode","focusOffset","direction","detach","show","e","setTimeout","isCollapsed","length","match","topOffset","getBoundingClientRect","top","getPosition","y","$popover","height","left","pageX","obj","parentNode","offsetWidth","offsetLeft","offsetParent","width","removeClass","css","addClass","hide","smart_truncate","str","n","toLong","s_","substr","lastIndexOf","getRelatedTwitterAccounts","usernames","creator","push","anchors","getElementsByTagName","attributes","value","matches","indexOf","join","shareTwitter","preventDefault","trim","url","encodeURIComponent","relatedTwitterAccounts","viaTwitterAccount","w","h","screen","open","shareFacebook","replace","render","popoverHTML","find","click","append","setElements","$elements","mouseup","mousedown","onselectionchange","selectionChanged","supportPageOffset","undefined","pageXOffset","isCSS1Compat","compatMode","x","documentElement","scrollLeft","body","pageYOffset","scrollTop","fn","selectionSharer","sharer","define","load","name","req","onLoad","config","jQuery"],"mappings":"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","file":"selection-sharer.min.js"}